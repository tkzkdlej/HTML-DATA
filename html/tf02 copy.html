<!DOCTYPE html>
<html>
 
<head>
    <title>TensorFlow.js Tutorial - boston housing </title>
 
    <!-- Import TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.0/dist/tf.min.js"></script>

</head>
 
<body>
    <script>
     
        var 보스톤_원인 =  [              
        [1003,102],[2001,200],[3002,303],[4001,400],[5001,500],[600,600],[7001,700],[8001,802],[9004,900],[10001,1004]
        ,[1002,104],[2002,205],[3003,302],[4001,402],[5001,502],[6002,600],[7000,703],[8003,801],[9004,904],[10002,1003]
        ,[1000,105],[2040,205],[3003,300],[4000,400],[5000,500],[6003,604],[7000,702],[8003,802],[9004,904],[10002,1002]
        ,[1001,104],[2005,205],[3003,300],[4000,400],[5001,500],[6000,604],[7000,701],[8004,802],[9004,900],[10002,1003]
        ,[1003,104],[2003,203],[3002,303],[4002,401],[5001,500],[6003,605],[7001,702],[8005,802],[9011,901],[10001,1003]
        ,[1001,104],[2003,202],[3002,301],[4002,402],[5009,509],[6009,606],[7060,707],[8000,802],[9001,904],[10000,1002]
        ,[1002,112],[2004,209],[3003,304],[4000,400],[5000,500],[6000,600],[7000,709],[8000,801],[9040,902],[10005,1032]
        ,[1003,104],[2000,204],[3003,303],[4000,401],[5002,502],[6001,601],[7000,701],[8001,803],[9005,902],[10003,1002]
        ,[1001,105],[2004,204],[3001,300],[4001,401],[5000,502],[6000,600],[7000,700],[8001,810],[9001,904],[10001,1001]
        ,[1001,101],[2002,202],[3003,303],[4003,403],[5002,501],[6002,601],[7001,702],[8003,802],[9002,902],[10004,1001]
        ,[1002,100],[2002,205],[3002,308],[4001,402],[5001,502],[6000,601],[7000,700],[8004,803],[9000,900],[10050,1001]
        ,[1000,100],[2000,205],[3000,308],[4000,402],[5003,500],[6000,604],[7000,701],[8005,830],[9000,900],[10050,1000]
        ,[1001,100],[2000,201],[3008,308],[4000,401],[5001,503],[6000,604],[7000,700],[8006,803],[9000,900],[10020,1008]
        ,[1003,103],[2003,205],[3001,303],[4002,401],[5001,500],[6003,603],[7001,702],[8007,804],[9010,901],[10005,1008]
        ,[1001,102],[2003,206],[3001,301],[4002,402],[5009,509],[6009,606],[7060,707],[8008,840],[9000,900],[10310,1000]
        ,[1002,112],[2011,202],[3009,304],[4000,400],[5000,500],[6007,600],[7000,709],[8009,840],[9000,902],[10021,1030]
        ,[1003,101],[2010,205],[3001,303],[4000,401],[5002,502],[6001,601],[7000,701],[8021,805],[9001,902],[10002,1001]
        ,[1001,101],[2001,205],[3001,300],[4001,401],[5000,502],[6000,608],[7000,700],[8011,806],[9001,901],[10001,1002]
        ,[1001,101],[2001,202],[3003,303],[4003,403],[5002,501],[6002,601],[7001,702],[8021,807],[9002,901],[10000,1001]
        ,[1002,100],[2002,205],[3002,302],[4001,402],[5001,502],[6000,608],[7000,704],[8020,807],[9000,900],[10004,1003]
        ,[1000,100],[2000,205],[3000,300],[4000,400],[5000,500],[6006,600],[7000,704],[8030,807],[9000,900],[10002,1002]
        ,[1001,100],[2000,204],[3001,300],[4000,400],[5001,500],[6007,600],[7008,700],[8040,808],[9001,901],[10008,1000]
        ,[1003,103],[2013,203],[3001,303],[4002,401],[5001,500],[6003,603],[7001,702],[8030,800],[9010,901],[10001,1002]
        ,[1001,102],[2003,202],[3001,301],[4002,402],[5009,509],[6009,606],[7060,707],[8020,800],[9000,902],[10002,1001]
        ,[1002,112],[2001,209],[3004,304],[4000,400],[5000,503],[6000,600],[7002,709],[8020,800],[9004,904],[10041,1033]
        ,[1003,104],[2000,204],[3001,303],[4000,401],[5002,504],[6001,601],[7002,701],[8005,800],[9001,902],[10004,1004]
        ,[1001,101],[2001,205],[3004,300],[4001,401],[5004,502],[6003,603],[7002,701],[8009,800],[9001,901],[10001,1002]
        ,[1001,101],[2001,202],[3004,303],[4003,403],[5002,501],[6002,601],[7001,702],[8001,801],[9002,902],[10010,1001]
        ,[1002,100],[2002,205],[3002,306],[4001,402],[5001,502],[6000,601],[7002,701],[8008,800],[9000,900],[10002,1080]
        ,[1000,100],[2000,203],[3000,307],[4000,402],[5003,500],[6000,604],[7008,707],[8002,800],[9000,900],[10003,1004]
        ,[1001,100],[2008,207],[3008,307],[4000,401],[5001,503],[6000,604],[7006,707],[8003,800],[9009,908],[10007,1002]
        ,[1013,103],[2003,203],[3003,307],[4002,401],[5001,500],[6003,603],[7001,702],[8001,801],[9010,901],[10001,1002]
        ,[1011,102],[2003,201],[3001,301],[4002,402],[5009,509],[6009,606],[7060,707],[8000,802],[9100,900],[10010,1001]
        ,[1022,112],[2011,209],[3009,304],[4000,405],[5000,507],[6000,603],[7005,709],[8000,800],[9021,902],[10001,1030]
        ,[1003,102],[2010,202],[3001,303],[4000,401],[5002,502],[6001,601],[7000,701],[8001,800],[9021,902],[10002,1001]
        ,[1001,102],[2001,201],[3001,300],[4001,401],[5000,502],[6000,600],[7000,700],[8001,804],[9021,901],[10008,1001]
        ,[1002,101],[2001,202],[3003,303],[4003,403],[5002,501],[6002,601],[7001,702],[8001,802],[9002,901],[10008,1002]
        ,[1001,100],[2001,200],[3001,303],[4001,400],[5001,500],[600,602],[7001,700],[8001,800],[9002,901],[10001,1003]
        ,[1002,100],[2002,203],[3002,302],[4001,402],[5001,502],[6000,601],[7000,700],[8007,802],[9000,902],[10004,1001]
        ,[1000,100],[2006,202],[3007,337],[4000,406],[5000,502],[6000,601],[7000,700],[8007,808],[9002,900],[10006,1002]
        ,[1001,100],[2005,204],[3001,300],[4000,400],[5011,502],[6000,610],[7000,700],[8007,800],[9001,900],[10004,1003]
        ,[1003,103],[2003,203],[3001,303],[4002,401],[5001,502],[6003,603],[7001,702],[8004,850],[9010,901],[10001,1004]
        ,[1001,102],[2003,202],[3001,301],[4002,402],[5009,509],[6009,606],[7060,707],[8006,807],[9006,903],[10000,1005]
        ,[1002,112],[2001,209],[3009,304],[4000,400],[5000,500],[6000,600],[7000,709],[8004,807],[9000,902],[10001,1030]
        ,[1003,101],[2000,200],[3001,303],[4000,401],[5002,502],[6001,601],[7000,701],[8001,820],[9001,902],[10002,1001]
        ,[1001,103],[2001,201],[3001,300],[4001,401],[5000,502],[6000,600],[7000,700],[8001,810],[9006,901],[10001,1011]
        ,[1001,101],[2002,202],[3003,303],[4003,403],[5002,501],[6002,601],[7001,702],[8003,802],[9002,902],[10003,1021]
        ,[1002,103],[2002,200],[3002,308],[4001,402],[5001,502],[6000,601],[7000,700],[8004,803],[9002,902],[10003,1002]
        ,[1000,130],[2000,200],[3000,308],[4000,402],[5003,500],[6000,604],[7000,701],[8005,830],[9001,903],[10003,1020]
        ,[1001,100],[2000,200],[3008,308],[4000,401],[5001,503],[6000,604],[7000,700],[8006,803],[9005,900],[10004,1001]
        ,[1003,103],[2003,203],[3001,303],[4002,401],[5001,500],[6003,603],[7001,702],[8007,804],[9010,901],[10001,1018]
        ,[1001,102],[2003,201],[3001,301],[4002,402],[5009,509],[6009,606],[7060,707],[8008,840],[9000,900],[10010,1021]
        ,[1002,112],[2011,209],[3009,304],[4000,400],[5000,500],[6000,600],[7000,709],[8009,840],[9000,902],[10001,1030]
        ,[1003,101],[2010,200],[3001,303],[4000,401],[5002,502],[6001,601],[7000,701],[8021,805],[9001,902],[10002,1021]
        ,[1001,101],[2001,201],[3001,300],[4001,401],[5000,502],[6000,600],[7000,700],[8011,806],[9001,901],[10001,1021]
        ,[1021,101],[2001,202],[3003,303],[4003,403],[5002,501],[6002,601],[7001,702],[8021,807],[9002,901],[10001,1031]
        ,[1002,100],[2002,201],[3002,302],[4001,402],[5001,502],[6000,600],[7008,700],[8020,807],[9008,900],[10002,1003]
        ,[1000,100],[2000,202],[3000,300],[4000,400],[5000,500],[6000,600],[7000,704],[8030,807],[9004,908],[10001,1004]
        ,[1001,100],[2000,200],[3001,300],[4003,400],[5001,500],[6000,600],[7008,704],[8040,808],[9001,901],[10003,1005]
        ,[1003,103],[2013,203],[3001,303],[4002,401],[5001,500],[6003,603],[7001,702],[8030,800],[9010,901],[10001,1002]
        ,[1001,102],[2003,202],[3001,301],[4002,402],[5009,509],[6009,606],[7060,707],[8020,800],[9000,902],[10002,1001]
        ,[1002,112],[2001,209],[3004,304],[4003,405],[5000,503],[6000,600],[7002,709],[8020,800],[9004,904],[10041,1033]
        ,[1003,104],[2000,204],[3001,303],[4000,401],[5002,504],[6001,601],[7002,701],[8005,800],[9001,902],[10004,1004]
        ,[1001,101],[2001,201],[3004,300],[4001,401],[5004,502],[6003,603],[7002,701],[8009,800],[9001,901],[10001,1003]
        ,[1001,101],[2001,202],[3004,303],[4003,403],[5002,501],[6002,601],[7001,702],[8001,801],[9002,902],[10010,1001]
        ,[1002,100],[2002,202],[3002,306],[4001,402],[5001,502],[6000,601],[7002,701],[8008,800],[9000,908],[10002,1001]
        ,[1000,100],[2000,203],[3000,307],[4003,402],[5003,500],[6000,604],[7008,707],[8002,808],[9000,900],[10003,1004]
        ,[1001,100],[2008,207],[3008,307],[4003,401],[5001,503],[6000,604],[7006,707],[8003,800],[9009,908],[10007,1003]
        ,[1013,103],[2003,203],[3003,307],[4002,401],[5001,500],[6003,603],[7001,702],[8001,801],[9010,901],[10001,1002]
        ,[1011,102],[2003,201],[3001,301],[4002,402],[5009,509],[6009,606],[7060,707],[8000,802],[9100,904],[10010,1002]
        ,[1022,112],[2011,209],[3009,304],[4000,400],[5000,500],[6000,600],[7000,709],[8000,808],[9021,902],[10001,1030]
        ,[1003,102],[2010,200],[3001,303],[4000,401],[5002,502],[6001,601],[7000,701],[8001,808],[9021,908],[10002,1001]
        ,[1001,102],[2001,201],[3001,300],[4001,401],[5000,502],[6000,600],[7000,700],[8001,805],[9021,901],[10001,1003]
        ,[1002,101],[2001,202],[3003,303],[4003,403],[5002,501],[6002,601],[7001,702],[8001,802],[9002,901],[10000,1001]
              
              ];
        var 보스톤_결과 = [
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1],
        [10], [9], [8], [7], [6], [5], [4],[3], [2],  [1]
            
        ];
      
     
        // 1. 과거의 데이터를 준비합니다. 
        var 원인 = tf.tensor(보스톤_원인);
        var 결과 = tf.tensor(보스톤_결과);
 
        // 2. 모델의 모양을 만듭니다. 
        var X = tf.input({ shape: [2] });
        var Y = tf.layers.dense({ units: 1 }).apply(X);
        var model = tf.model({ inputs: X, outputs: Y });
        var compileParam = { optimizer: tf.train.adam(), loss: tf.losses.meanSquaredError }
        model.compile(compileParam);
 
        // 3. 데이터로 모델을 학습시킵니다. 
//         var fitParam = {epochs: 100}
        var fitParam = { 
          epochs: 2200, 
          callbacks:{
            onEpochEnd:
              function(epoch, logs){
                console.log('epoch', epoch, logs, 'RMSE=>', Math.sqrt(logs.loss));
              }
          }
        } // loss 추가 예제
        model.fit(원인, 결과, fitParam).then(function (result) {
             
            // 4. 모델을 이용합니다. 
            // 4.1 기존의 데이터를 이용
            // var 예측한결과 = model.predict(원인);
            // 예측한결과.print();
            var 다음주온도 = [          
            [1000,100],[2000,200],[3000,300],[4000,400],[5000,500],[6000,600],[7000,700],[8000,800],[9000,900],[10000,1000],[1001,101],[2001,201],[3001,301],[4001,401],[5001,501],[6001,601],[7001,701],[8001,801],[9001,901],[10001,1001]];
            var 다음주원인 = tf.tensor(다음주온도);
            var 다음주결과 = model.predict(다음주원인);
            다음주결과.print();

            console.log(다음주결과.arraySync()[0])

        });  
 
        // 4.2 새로운 데이터를 이용
        // var 다음주온도 = [15,16,17,18,19]
        // var 다음주원인 = tf.tensor(다음주온도);
        // var 다음주결과 = model.predict(다음주원인);
        // 다음주결과.print();
    </script>
</body>
 
</html>
