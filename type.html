<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <title>호텔객실예약관리 - 객실타입관리</title>
</head>

<style>
#tbl1 { width:860px;border-collapse:collapse; }
#tbl2 { border: 3px solid rgb(219, 118, 59); }

body {
    background-image: url('hotel1.jpg');
    background-repeat: no-repeat;
    background-size: 100%;
}
.import {
    font-family:Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
    font-size: 16px;
    font-style:oblique;
    font-weight:bolder;
}
button {
    border-radius: 1ch;
    border-color: azure;
}
input {
    border-radius: 1ch;
    border-color: azure;
}
select {
    border-radius:1ch;
    border-color: azure;
}
</style>

<body>
<table id="tbl1" align="center" class="import" style="width: 900px;height: 300px;background-color: rgb(243, 237, 233);">
    <tr>
        <td>

            <table id="tbl2" style="width: 900px;" border="3">
                <tr>
                    <td style="width: 33%;">객실타입관리&nbsp;&nbsp;&nbsp;<a href="room.html">객실관리</a>&nbsp;&nbsp;&nbsp;<a href="book.html">예약관리</a></td>
                        
                    <td style="width: 34%;text-align: center;"><h1>호텔 객실 예약관리</h1></td>

                    <td style="width: 33%;" align="center">Designed by Min Suk</td>
                </tr>
            </table>

            <table id="tbl2" style="width: 900px;" border="1"> 
                <tr>
                    <td align="center" style="width: 50%;">
                        <select id="sel" size="14" style="width: 250px;"></select>
                    </td>

                    <td>

                        <table align="center">
                             <tr>
                                <td>객실타입번호&nbsp;</td><td><input id="num" type="number" value="1" min="1" max="5" style="width: 100px;"></td>
                            </tr>

                            <tr>
                                <td>객실타입명&nbsp;</td><td><input id="name" type="text" style="width: 100px;"></td>
                            </tr>

                            <tr><td colspan="2">&nbsp;</td></tr>

                            <tr>
                                <td align="center" colspan="2"><button id="add">추가</button>&nbsp;&nbsp;&nbsp;<button id="del">삭제</button>&nbsp;&nbsp;&nbsp;<button id="emp">비우기</button></td>
                            </tr>
                        </table>

                    </td>
                </tr>
            </table>

        </td>     
    </tr>    
</table>
<div id="alertDlg" style="display: none;">
    <label id="lblMessage"></label><br>
    <!-- <button id="btnClose">닫기</button> -->
</div>
</body>

<script src="https://code.jquery.com/jquery-latest.js"></script>
<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
<script>
$(document)
// .ready(function(){
//     alert(document.cookie);
// })
.on('click','#add',function(){
    str='<option>'+$('#num').val()+'. '+$('#name').val()+'</option>';
    
    if($('#name').val()=='') {
        showDlg('객실타입명을 입력하십시오!');
        $('#sel').val('')
    } else {
        $('#sel').append(str)
    }

    $('#num').val(1);
    $('#name').val('');
})


.on('click','#del',function(){
    $('#sel option:selected').remove();
})


.on('click','#emp',function(){
    $('#num').val(1);
    $('#name').val('');
})


// .on('click','#btnClose',function(){
//     $('#alertDlg').dialog('close');
// })


function showDlg(str){ // 함수선언
    $('#lblMessage').text(str);
    $('#alertDlg').dialog({
       'title':'알림창', // 객체
       'position':{'my':"left top",at:"left bottom",of:$('#add')},
       modal:true,
       buttons:[
           {
                text:'OK',
                click:function(){
                    $(this).dialog('close');
                }
           },
           {
                text:'Close',
                click:function(){
                    alert('안닫힘');
                }
           }
       ]
    });
}

// $(window)
// .on('beforeunload',function(){
//     i=0;
//     $('#sel option').each(function(){
//         setCookie('type'+i, $(this).text());
//         i++;
//     })
// })


// function setCookie(key,value){
//     let n=365*24*60*60*1000;
//     let now=new Date();
//     now.setTime(now.getTime()+n);
//     console.log(now);
//     document.cookie=key+'='+value+';expires='+now.toGMTString()+';path=/';
// }


// function getCookie(key){
//     // var value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
//     //   return value? value[2] : null;
//     console.log(document.cookie);
// }
</script>
</html>